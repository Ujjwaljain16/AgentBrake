version: "3.0"

agent:
  name: "demo-agent"
  trust_level: "sandbox"

policies:
  global:
    on_violation: "block"
  
  limits:
    max_tool_calls: 10
    max_runtime_seconds: 120
    rate_limit:
      calls_per_window: 20
      window_seconds: 60
  
  security:
    allowed_tools: 
      - "calculator"
      - "read_file"
    
    granular_rules:
      - tool: "read_file"
        allow_if:
          arguments:
            path: "^/tmp/.*"
      
      - tool: "read_file"
        deny_if:
          arguments:
            path: ".*(passwd|shadow|secret|\\.env).*"
        action: "kill"
